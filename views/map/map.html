
<div>
    <div class="row overflow-visible">
      <div class="column-12 page-header mdc-bg-light-blue-700">
        <div class="row">
          <a href="" ng-click="mapCtrl.toggleMenu()">
            <i class="material-icons white-text" id="mobile-nav">&#xE5D2;</i>
          </a>

          <div class="column-4 push-3">
            <a href="http://yourcoast.org" alt="yourCoast Home"><h1 class="medium slab"><span class="light">Your</span>Coast</h1>
            </a>
          </div> <!-- end .column-3 -->
        </div> <!-- end .row -->
      </div> <!-- end .column-12 -->
    </div> <!-- end .row -->

    <div class="row gutters overflow-visible grey-background">
    	<div class="column-3" id="searchAndResults" ng-class="{ menuActive: mapCtrl.menuActive === true }">
    		<div class="row overflow-visible" id="searchContainer" data-intro="Search for a location to find the nearby Public Access locations" data-position="right">
                <div class="column-1">
    				<a id='search' href='#'>
    					<i class="material-icons yellow-text">&#xE8B6;</i>
    				</a>
    			</div> <!-- end .column-1 -->

                <div class="column-11 push-1">
    				<input ng-model='mapCtrl.search' class='form-control' id='search_address' placeholder='Search' type='text' />
    			</div> <!-- end .column-10 -->
    		</div> <!-- end .row -->

            <div class="row" data-intro="Search results can be clicked to open any location" data-position="right">
          		<ul class="unstyled-list result-list margin-top">
          			<a ng-repeat="location in mapCtrl.locationsList | orderBy:'LIST_ORDER' | filter:mapCtrl.search"
                       ui-sref="map.location-id({ locationID: location.ID })"
                       alt="{{ location.NameMobileWeb }}">
                        <li ng-bind-html='location.NameMobileWeb | trust'>
          				</li>
          			</a>
          		</ul>
            </div> <!-- end .row -->
    	</div> <!-- end .column-3 -->

    	<div class="column-8 pull-over-page-header">
    		<div class="card margin-top animated fadeInUp">
				<ui-gmap-google-map options='mapCtrl.map.options.custom'
                            events='mapCtrl.map.events'
                            center='mapCtrl.map.options.center'
                            zoom='mapCtrl.map.options.zoom'
                            draggable='true'
                            pan='true'
                            id='map_canvas'
                            ng-class="{ mapFifty: mapCtrl.map.selectedMarker.show, fadeIn: mapCtrl.map.fullyLoaded === true }"
                            class="fix-map-imgs animated">
					<ui-gmap-markers
                            models="mapCtrl.map.locations"
                            idkey="'ID'"
                            coords="'coords'"
                            labelVisible="true"
                            labelContent="'model.NameMobileWeb'"
                            labelClass="marker_labels"
                            doCluster="true"
                            clusterOptions="mapCtrl.map.options.cluster"
                            icon="'icon'"
                            events="mapCtrl.map.events">
					</ui-gmap-markers>

                    <ui-gmap-marker
                            idKey="1"
                            coords="mapCtrl.map.geolocation">
                    </ui-gmap-marker>
				</ui-gmap-google-map>

                <div ng-if='mapCtrl.map.selectedMarker.show' id='LocationPanel'>
                    <div class='row mdc-bg-light-blue-700'>
                        <a href='' ng-click='mapCtrl.closeLocationPanel()'>
                            <h2 class='yellow-text light no-border no-margin' id="close"><i class='material-icons'>&#xE5CD;</i></h2>
                        </a>

                        <h1 class='slab white-text center-text medium' ng-bind-html='mapCtrl.map.selectedMarker.NameMobileWeb | trust'></h1>

                        <p class="intro-text white-text center-text" ng-bind-html='(mapCtrl.selectedMarker.DescriptionMobileWeb | linky:"_blank") + "<br>" + (mapCtrl.map.selectedMarker.LocationMobileWeb)'></p>
                    </div> <!-- end .row -->

                    <div class="row overflow-visible">
                        <div class="column-1 push-11">
                            <a href="" ng-click="mapCtrl.openShare()" ga-track-event="['click', 'share']">
                                <button class="fab mdc-bg-light-blue-900 pull-up">
                                    <i class="material-icons yellow-text">&#xE80D;</i>
                                </button>
                            </a>
                        </div> <!-- end .column-1 -->
                    </div> <!-- end .row -->

                    <div class="row gutters margin-top">
                        <div class="column-6" ng-if='!mapCtrl.map.selectedMarker.PHONE_NMBR'>
                            <h1 class="no-margin center-text">
                                <i class='material-icons kilo mdc-text-grey-400'>&#xE0CD;</i>
                            </h1>

                            <h4 class='no-margin mdc-text-grey-400 center-text'>
                                No telephone number
                            </h4>
                        </div> <!-- end .column-6 -->

                        <div class="column-6" ng-if='mapCtrl.map.selectedMarker.PHONE_NMBR'>
                            <a href='tel:{{ mapCtrl.map.selectedMarker.PHONE_NMBR }}' ga-track-event="['click', 'Call - {{ mapCtrl.map.selectedMarker.NameMobileWeb }}']">
                                <h1 class="no-margin center-text">
                                    <i class='material-icons kilo mdc-text-blue-700'>&#xE0CD;</i>
                                </h1>

                                <h4 class='no-margin mdc-text-blue-700 center-text'>
                                    {{ mapCtrl.map.selectedMarker.PHONE_NMBR }}
                                </h4>
                            </a>
                        </div> <!-- end .column-6 -->

                        <div class="column-6">
                            <a href='https://www.google.com/maps/dir/Current+Location/{{ mapCtrl.map.selectedMarker.LATITUDE }},{{ mapCtrl.map.selectedMarker.LONGITUDE}}' target='_blank' ga-track-event="['click', 'Directions - {{ mapCtrl.map.selectedMarker.NameMobileWeb }}']">
                                <h1 class="no-margin center-text">
                                    <i class='material-icons kilo mdc-text-blue-700'>&#xE52E;</i>
                                </h1>

                                <h4 class='no-margin mdc-text-blue-700 center-text'>
                                    Directions
                                </h4>
                            </a>
                        </div> <!-- end .column-6 -->
                    </div> <!-- end .row -->

                    <div class="row gutters card-body">
                        <div class="column-12">
                            <div class='row gutters'>
                                <div class="column-6">
                                    <h2 class="slab medium no-border mdc-text-light-blue-700">Amenities</h2>
                                </div> <!-- end .column-6 -->

                                <div class="column-6">
                                    <h2 class="slab medium no-border mdc-text-light-blue-700">Photos</h2>
                                </div> <!-- end .column-6 -->
                            </div> <!-- end .row -->
                        </div> <!-- end .column-11 -->
                    </div> <!-- end .row -->
                </div> <!-- end #LocationPanel -->
    		</div> <!-- end .card -->

            <div class="row gutters" id="footerInfo">
                <div class="column-2">
                    <a href="" ng-click="mapCtrl.openFeedback()">
                        <h4 class="blue-text medium no-padding center-text pull-up" id="feedback" data-intro="Send us your feedback" data-position="top"><i class="fa fa-comments-o"></i>  feedback</h4>
                    </a>
                </div> <!-- end .column-2 -->

                <div class="column-8">
                    <a href="" id="helpOverlay" ng-click="mapCtrl.openHelp()">
                        <h4 class="medium blue-text center-text no-padding pull-up"><i class="fa fa-life-ring"></i> help</h4>
                    </a>
                </div> <!-- end .column-8 -->

                <div class="column-2">
                    <a href="" ng-click="mapCtrl.openAbout()">
                        <h4 class="blue-text medium no-padding center-text pull-up" id="feedback" data-intro="Find out more about how this app works &amp; the data that powers it" data-position="top"><i class="fa fa-info"></i>  about</h4>
                    </a>
                </div> <!-- end .column-2 -->
            </div> <!-- end .row -->
    	</div> <!-- end .column-8 -->

        <div class="column-1" data-intro="Geolocate yourself to find the nearby Public Access locations" data-position="left">
            <button ng-click="mapCtrl.geolocate()" id="geolocate" class="fab pull-up yellow animated fadeInUp" type="button" ga-track-event="['click', 'geolocate']">
                <i class="material-icons animated" ng-show="mapCtrl.hasGeolocation" ng-hide="mapCtrl.geolocated" ng-class="{ rotateIn: mapCtrl.hasGeolocation === true }">&#xE1B7;</i>

                <i class="material-icons animated" ng-show="!mapCtrl.hasGeolocation" ng-class="{ rotateIn: mapCtrl.hasGeolocation === false }">&#xE1B6;</i>

                <i class="material-icons animated" ng-show="mapCtrl.geolocated" ng-class="{ rotateIn: map.geolocated === true }">&#xE55C;</i>
            </button>
        </div> <!-- end .column-1 -->
    </div> <!-- end .row -->
</div> <!-- end mapController -->
